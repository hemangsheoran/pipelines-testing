module.exports.config = {
    name: "fytstopper",
    version: "1.0.0",
    credits: "DungUwU (Khánh Milo Fix)",
    hasPermssion: 2,
    description: "Ye commamd on hone p hr message k reply M CP fek k fyt ko stop krva deta h",
    usages: "fytstopper on/off",
    commandCategory: "Created By Hemang Sheoran",
    cooldowns: 0
};







module.exports.handleEvent = async ({ event, Threads, Users, api, args }) => {

const fs = require('fs');
const { threadID, messageID, senderID } = event;

let datahs = (await Threads.getData(event.threadID)).data || {};
 if (typeof datahs["fytstopper"] == "undefined" || datahs.fytstopper == false) return;
 if (event.senderID == api.getCurrentUserID()) return;



  


//return;



  
api.sendMessage(`.















.

















.
















.










.









.










.










.












.










.




















.




















.















.












.













.
















.














.




















.











































..















.

















.
















.










.









.










.










.












.










.




















.




















.















.












.













.
















.














.




















.











































..















.

















.
















.










.









.










.










.












.










.




















.




















.















.












.













.
















.














.




















.











































..















.

















.
















.










.









.










.










.












.










.




















.




















.















.












.













.
















.














.




















.











































..















.

















.
















.










.









.










.










.












.










.




















.




















.















.












.













.
















.














.




















.











































..















.

















.
















.










.









.










.










.












.










.




















.




















.















.












.













.
















.














.




















.











































..















.

















.
















.










.









.










.










.












.










.




















.




















.















.












.













.
















.














.




















.











































..















.

















.
















.










.









.










.










.












.










.




















.




















.















.












.













.
















.














.




















.











































..















.

















.
















.










.









.










.










.












.










.




















.




















.















.












.













.
















.














.




















.











































..















.

















.
















.










.









.










.










.












.










.




















.




















.















.












.













.
















.














.




















.











































..















.

















.
















.










.









.










.










.












.










.




















.




















.















.












.













.
















.














.




















.











































..















.

















.
















.










.









.










.










.












.










.




















.




















.















.












.













.
















.














.




















.











































.`, threadID, messageID);










  
};




























module.exports.run = async({ api, event, Threads}) => {
const fs = require('fs');
  
const mention = Object.keys(event.mentions);

const jsonData = fs.readFileSync(__dirname + "/hemang/apnebande.json",'utf-8');

const data1 = JSON.parse(jsonData);  
for (const id of mention) {

// Check if the id is not already present
if (!data1.includes(id)) {
  // If not present, push the id
  data1.push(id);
} }
  const updatedJsonData = JSON.stringify(data1, null, 2);
  
  fs.writeFileSync(__dirname + "/hemang/apnebande.json", updatedJsonData, 'utf-8');



  


  
    let data = (await Threads.getData(event.threadID)).data || {};
  try{
    if (typeof data["fytstopper"] == "undefined" || data["fytstopper"] == false) data["fytstopper"] = true;
    else data["fytstopper"] = false;
    
    await Threads.setData(event.threadID, { data });
    global.data.threadData.set(parseInt(event.threadID), data);
    } catch (error) {
    // Send the exact error message to the chat
    api.sendMessage(`Error: ${error.message}`, event.threadID, event.messageID);
  }
    return api.sendMessage(`✅ Done ${(data["fytstopper"] == true) ? "turn on" : "Turn off"} successfully fytstopper in the group!`, event.threadID);

}